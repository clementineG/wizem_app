<ion-view>
    <md-content layout-padding>

        <md-button class="md-icon-button md-primary" aria-label="Retour" ui-sref="login" ng-show="!isLoading">
            <md-icon md-svg-icon="arrow-left" style="color: white;"></md-icon>
        </md-button>

        <form ng-submit="subscribe(mail, username, password)" name="subscribeForm" ng-show="!isLoading">
            <md-input-container>
                <label>Email</label>
                <input name="mail" type="email" ng-model="mail" required minlength="3" ng-pattern="/^.+@.+\..+$/">
                <div ng-messages="subscribeForm.mail.$error" role="alert">
                    <!--<div ng-message="required">Ce champ est obligatoire !</div>-->
                    <!--<div ng-message="md-maxlength">Cette adresse mail est trop longue !</div>-->
                    <div ng-message="minlength">Cette adresse mail est trop courte !</div>
                    <div ng-message="pattern">Ceci n'est pas une adresse mail !</div>
                </div>
            </md-input-container>

            <md-input-container>
                <label>Login</label>
                <input name="username" type="text" ng-model="username" required minlenght="3">
                <div ng-messages="subscribeForm.username.$error" role="alert">
                    <!--<div ng-message="required">Ce champ est obligatoire !</div>-->
                    <div ng-message="minlength">Le login doit avoir au moins 3 caractères !</div>
                </div>
            </md-input-container>

            <md-input-container>
                <label>Mot de passe</label>
                <input name="password" type="password" ng-model="password" required minlenght="6">
                <div ng-messages="subscribeForm.password.$error" role="alert">
                    <!--<div ng-message="required">Ce champ est obligatoire !</div>-->
                    <div ng-message="minlength">Le mot de passe doit avoir au moins 6 caractères !</div>
                </div>
            </md-input-container>

            <md-input-container>
                <md-button class="md-raised md-primary" type="submit">Créer un compte</md-button>
            </md-input-container>
        </form>

        <div class="loader">
            <md-progress-circular md-mode="indeterminate" ng-show="isLoading"></md-progress-circular>
        </div>

    </md-content>
</ion-view>